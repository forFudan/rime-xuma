
## 4. 非官方·手感优化方案·更少的Z

### 4.1. 动机和算法

徐码中，不少常用字根分布在 Z 键和 X 键 上，导致此两键的频率畸重，这个情况在打简体时尤甚，对左手的小指造成了很大的负担。因此，我对徐码的方案进行了调整，以达到以下目的:

- 大量减少 Z 键和 X 键的使用频率，解放左手小指。
- 在 GB2312 和 GBK 字集中，降低静态重码和动态重码(字频加权)。
- 改动字根时不过分影响记忆。小码尽量使用拼音中的字母帮助记忆(若无法达到,使用中间一行的`asdfghjkl`九键)。一般的，借用`k`代替`ch`和`k`入聲尾，借用`j`代替`i`，借用`s`代替`z`，借用`ks`代替`x`。
- 尽量让大小码分布在左右手上，增加双手互击。
- 尽量选择中间一排的按键。

本优化利用了程序，其算法为:

- 对每一个字根，确定其小码的候选列表，为其汉语拼音中的字母，加上中间一行字母，减去`z`和`x`，对于高频成字字根，还要减去同手的按键，增加互击。
- 对每一个字根，寻找静态重码最低的小码。
- 在GB2312字集内，不断随机选出字根，重复上述操作。
- 当重码降至不能再降以后，再次在GBK范围内进行遍历，且保证GB2312重码不增。
- 当重码降至不能再降以后，再次在GB2312范围内进行遍历，寻找动态重码率和手感提升的解。

### 4.2. 重码數據

改动后，静态重码率如下：

- GB2312重碼：318 降至 311
- 通規+國字常用：674 降至 663
- GBK重碼：2886 降至 2847

动态重码率（当代汉语简体字字频加权）：

GB2312动态重码率：0.0499%。即只打**全码**，不打簡碼的情况下，每万字选重只有5次。

GB2312中，除卻不變的重碼字：

- 原徐碼獨有的重碼字爲：媾缅缝终需雩柴此踊嗵铒钳怨急饵馑俯仪逾怔记漏涌诵溻谒闾溃讽澹

- 新方案獨有的重碼字爲：骧驴袈迦襞避拆逝裘逑钛链镶镳锎锏镧舔适庹遮注润

### 4.3. 改动

首先，将Z键上的副根全部移走，改动的有7个：

- **「辶」由`Zd`改为`Wk`。解放小拇指。「辶」音`chuo`，借用`k`代替`ch`。**
- 「讠」由`Zy`改为`Wn`。解放小拇指。
- **「之」由`Zz`改为`Wj`。解放小拇指。**
- 「户」由`Zh`改为`Wh`。解放小拇指。
- 「门」由`Zm`改为`We`。解放小拇指。

其次，將小码爲x和z的字根進行調整，解放小拇指和無名指，同時對其他字根進行優化，負責降重和改善手感，以下按照字根大碼排序。加粗的表示没有音託，斜體表示繁體根：

1. 「水」由`As`改为`Ah`。提升手感，`h`在拼音中，可以分散双手。
2. **「子」由`Bz`改为`Bj`。解放小拇指，选取字母`j`可以分散双手。**
3. 「习」由`Ci`改为`Cx`。把`Ci`让给高频字「小」。
4. 「小」由`Cx`改为`Ci`。解放无名指，`i`在拼音中。
5. 「西」由`Ex`改为`Ei`。解放无名指，`i`在拼音中。
6. **「長」由`Ez`改为`Ej`。解放小拇指。**
7. **「至」由`Fz`改为`Fj`。解放小拇指。**
8. 「面」由`Gm`改为`Ga`。降重。
9. 「耳」由`He`改为`Hr`。降重。
10. **「走」由`Jz`改为`Js`。解放小拇指，选取字母`s`可以分散双手。**
11. 「早」由`Kz`改为`Ka`。解放小拇指。
12. 「止」由`Lz`改为`Li`。解放小拇指。
13. 「黑」由`Mh`改为`Me`，提升手感，降重。
14. 「且」由`Nq`改为`Ne`，提升手感。
15. **「夕」由`Qx`改为`Qk`。解放无名指，选取字母`k`可以分散双手。**
16. 「爪」由`Rz`改为`Ra`。解放小拇指。
17. 「心」由`Rx`改为`Ri`。解放无名指，可以分散双手。
18. 「行」由`Sx`改为`Si`。解放无名指，可以分散双手。
19. 「自」由`Tz`改为`Ti`。解放小拇指。
20. 「乂」由`Ti`改为`Tk`。把碼位讓給「自」。
21. **「匕」由`Vi`改为`Vk`。降重。**

其他的调整有：

1. 增加「咼」字根，码位为`Nu`，同「冎」字根一致。原因是兩字基本不存在對立，還能顯著提高繁體輸入的手感，之前高頻的「過」「回」「問」前兩碼都是`NO`，設置簡碼不方便。

### 4.4. 方案名

本方案同原版方案并列安装，名为`xuma_forfudan_ergo`。

<!-- ### 4.5. 字根圖

本方案字根图如下（调整的字根放在最后）：

![徐碼字根鍵位圖ForFudan調整](/resources/徐碼字根鍵位圖ForFudan調整.jpg) -->

### 4.5. 手感數據

以下为本改动方案的最终按键频率。

注意到，原码表中，`z` 键的使用率竟排在前五（~5%）。调整版中，`z` 键使用率降至最末（~1%）。

#### 4.5.1. 简体文本调整版数据

单字全码派，字母按键频率按照从多到少排序为:
`uviwgskobjefltmdpacyhnqxrz`

左手: 54.94%
下排: 22.66%
中排: 36.03%
上排: 41.31%
左小: 5.95%
左無: 12.59%
左中: 10.20%
左食: 26.19%
右食: 23.13%
右中: 10.82%
右無: 8.18%
右小: 2.93%

字词全码派，字母按键频率按照从多到少排序为:
`wugbiksftlojvepycdxharqnmz`

左手: 57.69%
下排: 21.10%
中排: 36.86%
上排: 42.04%
左小: 6.32%
左無: 14.28%
左中: 10.05%
左食: 27.04%
右食: 20.21%
右中: 9.78%
右無: 8.84%
右小: 3.48%
<!-- 
#### 4.5.2. 简体文本原码表数据

单字全码派，字母按键频率按照从多到少排序为:
`uvgbzdosefitxwjklcymprqhan`

左手: 59.98%
下排: 28.62%
中排: 32.63%
上排: 38.76%
左小: 8.87%
左無: 11.68%
左中: 12.21%
左食: 27.23%
右食: 21.50%
右中: 7.25%
右無: 8.16%
右小: 3.10%

字词全码派，字母按键频率按照从多到少排序为:
`bguzftsovekjwxdlpycirqmhan`

左手: 61.66%
下排: 27.39%
中排: 34.63%
上排: 37.99%
左小: 9.87%
左無: 12.23%
左中: 10.93%
左食: 28.64%
右食: 19.75%
右中: 7.10%
右無: 7.95%
右小: 3.55% -->

#### 4.5.2. 繁体文本调整版数据

单字全码派，字母按键频率按照从多到少排序为:
`uvgisjowklbetfymdahpnqcxrz`

左手: 52.72%
下排: 22.05%
中排: 37.40%
上排: 40.55%
左小: 5.88%
左無: 12.22%
左中: 9.01%
左食: 25.61%
右食: 25.29%
右中: 9.91%
右無: 9.11%
右小: 2.97%

字词全码派，字母按键频率按照从多到少排序为:
`ugsjwliotbvkyfenphadxmrcqz`

左手: 53.51%
下排: 20.46%
中排: 38.63%
上排: 40.91%
左小: 5.87%
左無: 13.29%
左中: 8.52%
左食: 25.82%
右食: 24.48%
右中: 9.11%
右無: 9.68%
右小: 3.22%

<!-- ### 4.6. 更新日志

2023年1月23日

- 根據2023年1月15日版本調整。

2022年12月16日

- 調整恢復部分字根碼位。使得同原徐碼的區别不會太大。
- GB2312 重碼定在320箇。
- 本方案以後不會再多更改。

2022年12月11日

- 調整「文」「甫」「⼻」字根碼位。
- 不改變大碼的情况下，重碼已經降到極致。以後只攷慮大碼的調整。

2022年12月10日

- 更新字根，大幅降低重碼。
- 提供拆分。
- 增加CJK-H區的漢字的編碼。

2022年12月8日：

- 更新「而」「且」「厂」三字根码位分别为`Gj`、`Ne`、`Gh`。
- 恢復「三」爲`Is`，删除「兑」字根。 -->
