<!-- omit in toc -->
# Rime·徐码·尔雅输入法·2022版·增广常用字符集

## 1. 介绍

### 1.1. 徐码·尔雅输入法

徐码·尔雅输入法是由徐国银先生发明的一种优秀的形码输入法方案，特点为双编码。优点包括：繁简通打、支持CJK大字集、低重码、全码简码一致、字词编码一致等。

[點擊此處閱讀我所寫的徐碼繁簡通打輸入法（爾雅輸入法）簡明教程瞭解和學習徐碼。](XumaTutorial.md)

QQ群: 761401688

### 1.2. RIME平台

徐码的使用可依托第三方输入法平台，其中RIME的开源性、定制化，使其成为了挂载平台的首选之一。

可在官网下载安装：<https://rime.im/>

### 1.3. 本方案

本方案使用了徐码最新的字根和规则，根据官方码表（2022年4月11日版），进行部分调整，具有以下特点：

- 调整了部分一级简码和二级简码。
- 二级简码快速标点符号输入。
- 增加了词库，包括成语和古诗词。
- 使用了自定义字符集，约一万字，包括GB2312汉字、國語常用字、其它常用汉字等。支持用户自定义修改。
- 实时显示候选项简码全码。
- 四叶草拼音反查（反查引导符为斜杠 /），地址：<https://github.com/fkxxyz/rime-cloverpinyin>
- 全码后置。

![成语古诗](/resources/成语古诗.png)

### 1.4. 其他方案

[局外人徐码三重注解方案](https://github.com/Ace-Who/rime-xuma)，此方案基于上一版本的徐码（更新至2021年）深度定制，适合初学者了解拆字。

## 2. 使用

### 2.1. Windows / Macos / 安卓安装方法

在安装了 Rime（小狼毫、鼠须管、同文）后，将 [/schema](https://github.com/forFudan/xuma/tree/main/schema) 文件夹下的所有文件复制到 Rime 目录下。同时在 default.custom.yaml 文件中加入以下内容：

```
patch:
  schema_list:
    - schema: xuma2022
```

点击「部署」之后即可使用。

## 3. iOS 安装方法

[点击此文档查看。](/iOS_installation.md)

### 3.1. 具体文件介绍

文件介绍：

- xuma2022.schema.yaml 方案文件
- xuma2022.dict.yaml 字典文件
- rime.lua 脚本设定
- lua/filter_forfudan_freq.lua 字符集过滤脚本。可在第38行添加自定字符。
- build/clover... 已编译好的四叶草拼音文件。或者自行安装。<https://github.com/fkxxyz/rime-cloverpinyin>

## 4. 方案特点

### 4.1. 单字简码调整

本方案根据汉字的字频，调整了一级、二级、三级单字简码。

其中，一级简码调整如下（共8个）：

- A「以」改为「能」。否则「能」字需要`asv`三码出字。
- C「发」改为「好」。因为「好」字频更高。且让出了二简位给同样高频的「她」字。
- D「那」改为「对」。否则高频「对」字需要`dico`四码出字。
- H「在」改为「有」。否则高频「有」字需要`hsv`三码出字。
- M「同」改为「见」。否则高频「见」字需要`mve`三码出字。
- N「国」改为「当」。否则高频「当」字需要`nbe`三码出字。
- S「得」改为「然」。
- Z「为」改为「没」。否则「没」字需要三码出字，且`zqs`会在左手小指，非常不便。

二级简码也作部分调整，比如：

- xq 码位由「将」改为「次」，否则需要`xqqs`四码出字。

特别的，部分字频不高的繁体字和传承字字根移到三选。这样可以腾出一个二简码位用于高频字。例如：

- 「艮0.00%」移到三选，同时将码位让给「司0.05%」
- 「巳0.00%」移到三选，同时将码位让给「通0.06%」
- 「殳0.00%」移到三选，同时将码位让给「解0.07%」
- 「冊0.00%」移到三选，同时将码位让给「内0.08%」
- 「韋0.00%」移到三选，同时将码位让给「尽0.04%」
- 「戊0.00%」移到三选，同时将码位让给「太0.10%」
- 「缶0.00%」移到三选，同时将码位让给「年0.18%」
- 「歹0.00%」移到三选，同时将码位让给「五0.06%」
- 「臣0.01%」移到三选，同时将码位让给「打0.15%」
- 「瓜0.01%」移到三选，同时将码位让给「后0.34%」
- 「虫0.01%」移到三选，同时将码位让给「些0.20%」
- 「申0.00%」移到三选，同时将码位让给「明0.15%」
- 「烏0.01%」移到三选，同时将码位让给「今0.07%」
- 「馬0.09%」移到三选，同时将码位让给「现0.22%」
- 「弋0.00%」移到三选，同时将码位让给「式0.03%」
- 「匕0.00%」移到三选，同时将码位让给「条0.05%」
- 「舟0.00%」移到三选，同时将码位让给「种0.14%」

### 4.2. 词语简码调整

本方案根据词语的词频，调整了一级、二级词语简码。

#### 4.2.1. 简词调整

值得注意的是，在官方码表中，二简二选词语取两个字首码。这导致词语全码简码不一致。在本方案中，统一调整取消这种取码方式。

关于简码词的设置有一些原则：
- 词频越靠前，设置简词的可能性越高。
- 如果简词的第一个字在二简一选位，则优先放在二简。例：「毕竟」，因为「毕」是二简字，所以「毕竟」也设成二简而不是一简。
- 接上，如果简词的频率过高，仍然设在一简。例：「如果」，虽然「如」是二简字，但是「如果」的词频太高，所以放在了一简位上。

一简码位都有二选简词和三选简词。一码简词全码后置。

二简码位不一定有两个简词。如果一个词没有重码，那么将它设在二简位只省了一个按键，还会增加记忆负担，故而二简词只在以下情况下会设置：

1. 一个词的词频非常高，故而提供简码位。
2. 一个词存在重码，设置简码以避免选重。
3. 一个词的全码输入时不符合人体工学。如：「前往」的全码 xssw 全部使用左手无名指。

简词二选会后置全码，用以避重。

三选则不会后置全码，这样做是为了减少记忆负担。因此，如果词A频率更高，但没有重码，词B频率更低，但有重码，会将词A设置在二简三选位，全简都可出词。

部分二简三选位安排了部分大中城市和国家名,可通过 Tab 键上屏。例如：

- ok 三选：中国
- xv 三选：北京
- ls 三选：上海
- gf 三选：天津
- wg 三选：广州

### 4.3. 标点符号二简快速输入

对于一些使用频率不高的二简码位，提供标点符号的快速输入，包括：

- 「」，单方引号，aj
- 『』，双方引号，ak
- “”，双圆引号，ah
- ‘’，单圆引号，ai
- 〔〕，六角引号，al
- ：，冒号，mm
- 《》，书名号，mm
- ！，感叹号，gg
- ？，问号，ww
- ——，破折号，pp
- ……，省略号，sl
- ×，隐讳符，yh
- □，缺字符，qz
- 々，叠字符，dz，也可以通过 qwu 输入。
- ·，间隔符，yy
- §，章节号，zj
- 、，顿号，nn
- ，，逗号，oo
- 。，句号，jj
- 全角空格，dl

![标点](/resources/标点.png)

### 4.4. 增广常用字符集

本方案使用了自定的常用字符，将常用字一网打尽，避免了 RIME 内置字符集「GB2312字太少，GBK字太多」的问题。包括了以下一万个左右的字符：

- GB2312 全部字符
- 台湾的「国语常用字」
- 注音符号
- 「〇」符号
- 「镕」等 GB2312 未收录的常用简化字
- 「喆裏墻粧嫺綫綉滙峯」等「国语常用字」未收录的常用繁体字
- 「咲雫乭」等常见日韩汉字
- 日语假名

![注音假名](/resources/注音假名.png)

### 4.5. 一键切换字符集

在输入过程中，用户可通过「Shift+Ctrl+S」在常用字符集和CJK大字符集之间进行切换。

还可通过「Shift+Ctrl+F」切换简入繁出输入。

### 4.6. 使用 / 键引导四叶草拼音输入和反查

按下 / 键，可以随时使用四叶草拼音输入词语，并实现反查。四叶草拼音：<https://github.com/fkxxyz/rime-cloverpinyin>

![反查](/resources/反查.png)

### 4.7. 实时显示全简码

输入过程中实时显示简码和全码。

### 4.8. 全码后置

对于已经设置简码的单字和词语，会后置它们的全码，将一选位让给其他字词。
